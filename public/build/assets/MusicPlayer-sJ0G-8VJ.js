import{d as P,f as C,o as u,w as s,p as V,E as re,G as ie,u as e,a as x,z as $,bT as ce,c as ue,e as a,b as l,v as T,F as Y,r as D,t as v,S as de,y as k,l as fe,n as me,k as ve,j as ge,i as Q}from"./app-B2WoEQjc.js";import{c as j,b as pe,_ as g}from"./index-29_GNLlO.js";import{_ as K}from"./Separator.vue_vue_type_script_setup_true_lang-Br2A2afh.js";import{o as _e,r as he,s as be,p as ye,q as we,B as xe,l as _,m as h,n as b,X as W}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DMZL-94v.js";import{S as ke,a as Ce,M as Te}from"./sun-D1Kx5Pp6.js";import{H as Pe,U as Ie,F as Se,c as ze,C as $e,E as Me,G as Ye,L as Le,S as Be,P as E,d as N,b as R,M as Ee,a as Ne,e as Re,f as Ae}from"./user-D7bKpuWK.js";import{_ as De,a as Ue}from"./CardContent.vue_vue_type_script_setup_true_lang-tNkS2q1F.js";import{_ as X}from"./Badge.vue_vue_type_script_setup_true_lang-YCWStiGp.js";const U=P({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(w){const r=w;return(i,c)=>(u(),C(e(_e),re(ie(r)),{default:s(()=>[V(i.$slots,"default")]),_:3},16))}}),Ve=P({__name:"dock",props:{class:{}},setup(w){const r=pe("mx-auto w-max h-[48px] sm:h-[58px] p-1 sm:p-2 flex gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border supports-backdrop-blur:bg-background/10 supports-backdrop-blur:dark:bg-background/10 backdrop-blur-md",{variants:{direction:{top:"items-end flex-row",middle:"items-center flex-row",bottom:"items-start flex-row"}},defaultVariants:{direction:"middle"}});return(i,c)=>(u(),x("div",{class:$(e(j)(e(r)({direction:i.direction}),i.$props.class))},[V(i.$slots,"default")],2))}}),A=P({__name:"dock-icon",props:{class:{}},setup(w){return(r,i)=>(u(),x("div",{class:$(e(j)("group flex aspect-square cursor-pointer items-center justify-center rounded-full border",r.$props.class))},[V(r.$slots,"default")],2))}}),je=P({__name:"ThemeToggle",setup(w){const{appearance:r,updateAppearance:i}=ce(),c=[{key:"light",label:"Light",icon:ke},{key:"dark",label:"Dark",icon:Ce},{key:"system",label:"System",icon:Te}],p=ue(()=>c.find(y=>y.key===r.value)||c[2]);return(y,m)=>(u(),C(e(we),null,{default:s(()=>[a(e(he),{asChild:""},{default:s(()=>[a(e(g),{variant:"ghost",size:"icon",class:"h-9 w-9 bg-background/50 backdrop-blur-sm border border-border/50 hover:bg-accent hover:text-accent-foreground active:bg-accent active:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:ring-offset-2 focus:ring-offset-background transition-all duration-200"},{default:s(()=>[(u(),C(T(p.value.icon),{class:"h-4 w-4 transition-all duration-200"})),m[0]||(m[0]=l("span",{class:"sr-only"},"Toggle theme",-1))]),_:1,__:[0]})]),_:1}),a(e(be),{align:"end",class:"w-40 bg-background/95 backdrop-blur-sm border border-border/50"},{default:s(()=>[(u(),x(Y,null,D(c,n=>a(e(ye),{key:n.key,onClick:I=>e(i)(n.key),class:$(["flex items-center gap-2 cursor-pointer hover:bg-accent hover:text-accent-foreground active:bg-accent active:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none transition-colors",{"bg-accent text-accent-foreground":e(r)===n.key}])},{default:s(()=>[(u(),C(T(n.icon),{class:"h-4 w-4"})),l("span",null,v(n.label),1)]),_:2},1032,["onClick","class"])),64))]),_:1})]),_:1}))}}),Fe={class:"fixed top-3 sm:top-6 left-1/2 transform -translate-x-1/2 z-50 max-w-[calc(100vw-1rem)] sm:max-w-[calc(100vw-2rem)] w-auto overflow-x-auto dock-container"},He=["href","aria-label"],ka=P({__name:"DockNavigation",props:{currentRoute:{default:"/"}},setup(w){const r=w,i=[{href:"/",icon:Pe,label:"Home"},{href:"/about",icon:Ie,label:"About"},{href:"/portfolio",icon:xe,label:"Projects"},{href:"/resume",icon:Se,label:"Resume"},{href:"/contact",icon:ze,label:"Contact"},{href:"/hobby",icon:$e,label:"Hobbies"},{href:"/more",icon:Me,label:"More"}],c=[{name:"GitHub",url:"https://github.com/Sovannthai",icon:Ye},{name:"LinkedIn",url:"https://www.linkedin.com/in/sros-thai-b491b42ab/",icon:Le},{name:"Telegram",url:"https://t.me/HE_Sovanthai",icon:Be}],p=y=>r.currentRoute===y;return(y,m)=>(u(),x("div",Fe,[a(e(U),null,{default:s(()=>[a(e(Ve),{direction:"middle",class:"bg-background/80 backdrop-blur-xl border-border/30 shadow-xl px-1 md:px-2"},{default:s(()=>[(u(),x(Y,null,D(i,n=>a(e(A),{key:n.label,class:"h-10 w-10 sm:h-12 sm:w-12 border-0"},{default:s(()=>[a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{asChild:"",variant:p(n.href)?"default":"ghost",size:"icon",class:$(e(j)("h-8 w-8 sm:h-10 sm:w-10 rounded-full transition-all duration-200",p(n.href)?"bg-primary text-primary-foreground shadow-lg scale-110":"hover:bg-accent hover:scale-105 active:bg-accent active:scale-102 focus:bg-accent focus:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:ring-offset-2 focus:ring-offset-background"))},{default:s(()=>[a(e(de),{href:n.href,"aria-label":n.label},{default:s(()=>[(u(),C(T(n.icon),{class:"h-3 w-3 sm:h-4 sm:w-4"}))]),_:2},1032,["href","aria-label"])]),_:2},1032,["variant","class"])]),_:2},1024),a(e(b),null,{default:s(()=>[l("p",null,v(n.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64)),a(e(K),{orientation:"vertical",class:"h-6 sm:h-8 mx-0.5 sm:mx-1 hidden sm:block"}),(u(),x(Y,null,D(c,n=>a(e(A),{key:n.name,class:"h-10 w-10 sm:h-12 sm:w-12 border-0 hidden sm:block"},{default:s(()=>[a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{asChild:"",variant:"ghost",size:"icon",class:"h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-accent hover:scale-105 active:bg-accent active:scale-102 focus:bg-accent focus:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:ring-offset-2 focus:ring-offset-background transition-all duration-200"},{default:s(()=>[l("a",{href:n.url,target:"_blank",rel:"noopener noreferrer","aria-label":n.name},[(u(),C(T(n.icon),{class:"h-3 w-3 sm:h-4 sm:w-4"}))],8,He)]),_:2},1024)]),_:2},1024),a(e(b),null,{default:s(()=>[l("p",null,v(n.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64)),a(e(K),{orientation:"vertical",class:"h-6 sm:h-8 mx-0.5 sm:mx-1 hidden sm:block"}),a(e(A),{class:"h-10 w-10 sm:h-12 sm:w-12 border-0"},{default:s(()=>[a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(je,{class:"h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:scale-105 active:scale-102 focus:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:ring-offset-2 focus:ring-offset-background transition-all duration-200"})]),_:1}),a(e(b),null,{default:s(()=>m[0]||(m[0]=[l("p",null,"Toggle Theme",-1)])),_:1,__:[0]})]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Ge={class:"fixed bottom-6 right-6 z-50 pointer-events-auto"},Oe={key:0,class:"fixed bottom-4 left-4 right-4 z-40 pointer-events-none"},qe={class:"max-w-6xl mx-auto pointer-events-auto"},Qe={key:0,class:"flex items-center gap-2"},Ke={class:"flex items-center gap-2"},We={class:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center"},Xe={class:"flex items-center gap-1"},Ze={key:1,class:"space-y-3"},Je={class:"flex items-center justify-between"},ea={class:"flex items-center gap-3 flex-1 min-w-0"},aa={class:"w-10 h-10 bg-gradient-to-br from-primary/20 to-primary/10 rounded-lg flex items-center justify-center shrink-0"},sa={class:"flex-1 min-w-0"},ta={class:"font-medium text-foreground truncate"},la={class:"text-sm text-muted-foreground truncate"},oa={class:"flex items-center gap-1"},na={class:"flex items-center gap-2 text-xs text-muted-foreground"},ra={class:"w-10 text-right"},ia=["max","value"],ca={class:"w-10"},ua={class:"flex items-center justify-between"},da={class:"flex items-center gap-1"},fa={class:"hidden sm:flex items-center gap-2"},ma=P({__name:"MusicPlayer",setup(w){const r=k([{id:1,title:"បងក្រ",artist:"Tena Feat. YCN Rakhie Original Version",src:"https://www.youtube.com/watch?v=-IQcA1jmb3I&list=RD-IQcA1jmb3I&start_radio=1",duration:250}]),i=k(!1),c=k(0),p=k(0),y=k(!0),m=k(!1),n=k(null),I=k(!1),f=k(r.value[0]),F=o=>{const t=Math.floor(o/60),d=Math.floor(o%60);return`${t}:${d.toString().padStart(2,"0")}`},L=()=>{!I.value||!n.value||(i.value?n.value.pauseVideo():n.value.playVideo())},Z=()=>{c.value>0?c.value--:c.value=r.value.length-1,B()},H=()=>{c.value<r.value.length-1?c.value++:c.value=0,B()},B=()=>{var o;if(r.value.length===0){console.warn("No songs in music library");return}if(c.value>=r.value.length&&(console.warn("Invalid song index:",c.value),c.value=0),f.value=r.value[c.value],i.value=!1,p.value=0,console.log("Loading song:",f.value),I.value&&n.value&&((o=f.value)!=null&&o.src)){const t=M(f.value.src);if(t){console.log("Loading YouTube video:",t);try{n.value.loadVideoById(t)}catch(d){console.error("Error loading video:",d)}}else console.error("Cannot extract video ID from:",f.value.src)}},J=()=>{var o;(o=f.value)!=null&&o.src?window.open(f.value.src,"_blank"):console.warn("No current song URL to open")},G=()=>{y.value=!y.value},O=()=>{m.value=!m.value,m.value||(y.value=!0)},ee=()=>{m.value?L():(m.value=!0,y.value=!1)},ae=()=>{var o;if(window.YT)q();else{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";const d=document.getElementsByTagName("script")[0];(o=d.parentNode)==null||o.insertBefore(t,d),window.onYouTubeIframeAPIReady=q}},q=()=>{if(!f.value||!f.value.src){console.error("No current song or src available for YouTube player");return}const o=M(f.value.src);if(!o){console.error("Cannot extract YouTube video ID from:",f.value.src);return}console.log("Initializing YouTube player with video ID:",o);try{n.value=new window.YT.Player("youtube-player",{height:"0",width:"0",videoId:o,playerVars:{autoplay:0,controls:0,disablekb:1,fs:0,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0},events:{onReady:se,onStateChange:te}})}catch(t){console.error("Error creating YouTube player:",t)}},se=()=>{I.value=!0},te=o=>{o.data===window.YT.PlayerState.PLAYING?(i.value=!0,le()):o.data===window.YT.PlayerState.PAUSED?i.value=!1:o.data===window.YT.PlayerState.ENDED&&(i.value=!1,H())};let S=null;const le=()=>{S&&clearInterval(S),S=setInterval(()=>{n.value&&i.value&&(p.value=Math.floor(n.value.getCurrentTime()))},1e3)},oe=o=>{const t=o.target,d=parseFloat(t.value);p.value=d,n.value&&I.value&&n.value.seekTo(d)},M=o=>{if(!o||typeof o!="string")return console.warn("Invalid YouTube URL:",o),null;try{const t=o.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);return t?t[1]:null}catch(t){return console.error("Error extracting YouTube ID from URL:",o,t),null}},ne=async()=>{try{const o=await fetch("/api/popular-songs");if(o.ok){const t=await o.json();t&&t.length>0&&(console.log("Loaded songs from API:",t),r.value=t.map(d=>{const z={id:d.id||0,title:d.title||"Unknown Title",artist:d.artist||"Unknown Artist",src:d.url||d.src||"",duration:d.duration||180};return(!z.src||!M(z.src))&&console.warn("Invalid YouTube URL for song:",z.title,z.src),z}).filter(d=>M(d.src)),r.value.length>0?(f.value=r.value[0],c.value=0,console.log("Current song set to:",f.value)):console.warn("No valid YouTube URLs found in songs"))}}catch(o){console.warn("Failed to load songs from API:",o)}};return fe(async()=>{await ne(),ae()}),me(()=>{S&&clearInterval(S),n.value&&n.value.destroy()}),ve(c,()=>{B()}),(o,t)=>(u(),x(Y,null,[l("div",Ge,[a(e(U),null,{default:s(()=>[a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{onClick:ee,size:"lg",class:$(["h-14 w-14 rounded-full bg-primary/90 text-primary-foreground hover:bg-primary active:bg-primary/80 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-110 active:scale-105",{"animate-pulse":i.value&&!m.value,"bg-primary":m.value}])},{default:s(()=>[(u(),C(T(m.value?i.value?e(E):e(N):e(R)),{class:"w-6 h-6"}))]),_:1},8,["class"])]),_:1}),a(e(b),null,{default:s(()=>[l("p",null,v(m.value?i.value?"Pause Music":"Play Music":"Open Music Player"),1)]),_:1})]),_:1})]),_:1})]),m.value?(u(),x("div",Oe,[l("div",qe,[a(e(U),null,{default:s(()=>[a(e(De),{class:"bg-background/95 border-border/50 shadow-2xl transition-all duration-300 music-player"},{default:s(()=>[a(e(Ue),{class:"p-3"},{default:s(()=>[y.value?(u(),x("div",Qe,[l("div",Ke,[l("div",We,[a(e(R),{class:"w-4 h-4 text-primary"})]),a(e(g),{onClick:L,size:"sm",variant:"ghost",class:"h-8 w-8 rounded-full hover:bg-accent active:bg-accent"},{default:s(()=>[(u(),C(T(i.value?e(E):e(N)),{class:"w-4 h-4"}))]),_:1})]),l("div",Xe,[a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{onClick:G,size:"sm",variant:"ghost",class:"h-8 w-8 rounded-full hover:bg-accent active:bg-accent"},{default:s(()=>[a(e(Ee),{class:"w-3 h-3"})]),_:1})]),_:1}),a(e(b),null,{default:s(()=>t[0]||(t[0]=[l("p",null,"Expand Player",-1)])),_:1,__:[0]})]),_:1}),a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{onClick:O,size:"sm",variant:"ghost",class:"h-8 w-8 rounded-full hover:bg-accent active:bg-accent"},{default:s(()=>[a(e(W),{class:"w-3 h-3"})]),_:1})]),_:1}),a(e(b),null,{default:s(()=>t[1]||(t[1]=[l("p",null,"Close Player",-1)])),_:1,__:[1]})]),_:1})])])):(u(),x("div",Ze,[l("div",Je,[l("div",ea,[l("div",aa,[a(e(R),{class:"w-5 h-5 text-primary"})]),l("div",sa,[l("h3",ta,v(f.value.title),1),l("p",la,v(f.value.artist),1)]),a(e(X),{variant:"secondary",class:"hidden sm:flex"},{default:s(()=>[Q(v(c.value+1)+" / "+v(r.value.length),1)]),_:1})]),l("div",oa,[a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{onClick:G,size:"sm",variant:"ghost",class:"h-8 w-8 rounded-full hover:bg-accent active:bg-accent"},{default:s(()=>[a(e(Ne),{class:"w-3 h-3"})]),_:1})]),_:1}),a(e(b),null,{default:s(()=>t[2]||(t[2]=[l("p",null,"Minimize Player",-1)])),_:1,__:[2]})]),_:1}),a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{onClick:O,size:"sm",variant:"ghost",class:"h-8 w-8 rounded-full hover:bg-accent active:bg-accent"},{default:s(()=>[a(e(W),{class:"w-3 h-3"})]),_:1})]),_:1}),a(e(b),null,{default:s(()=>t[3]||(t[3]=[l("p",null,"Close Player",-1)])),_:1,__:[3]})]),_:1})])]),l("div",na,[l("span",ra,v(F(p.value)),1),l("input",{type:"range",min:0,max:f.value.duration,value:p.value,onInput:oe,class:"flex-1 h-2 bg-accent rounded-lg appearance-none cursor-pointer slider"},null,40,ia),l("span",ca,v(F(f.value.duration)),1)]),l("div",ua,[l("div",da,[a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{onClick:Z,size:"sm",variant:"ghost",class:"h-8 w-8 rounded-full hover:bg-accent active:bg-accent",disabled:r.value.length<=1},{default:s(()=>[a(e(Re),{class:"w-4 h-4"})]),_:1},8,["disabled"])]),_:1}),a(e(b),null,{default:s(()=>t[4]||(t[4]=[l("p",null,"Previous Song",-1)])),_:1,__:[4]})]),_:1}),a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{onClick:L,size:"sm",class:"h-10 w-10 rounded-full bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/80"},{default:s(()=>[(u(),C(T(i.value?e(E):e(N)),{class:"w-4 h-4"}))]),_:1})]),_:1}),a(e(b),null,{default:s(()=>[l("p",null,v(i.value?"Pause":"Play"),1)]),_:1})]),_:1}),a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{onClick:H,size:"sm",variant:"ghost",class:"h-8 w-8 rounded-full hover:bg-accent active:bg-accent",disabled:r.value.length<=1},{default:s(()=>[a(e(Ae),{class:"w-4 h-4"})]),_:1},8,["disabled"])]),_:1}),a(e(b),null,{default:s(()=>t[5]||(t[5]=[l("p",null,"Next Song",-1)])),_:1,__:[5]})]),_:1})]),l("div",fa,[a(e(X),{variant:"secondary",class:"text-xs"},{default:s(()=>[Q(v(c.value+1)+"/"+v(r.value.length),1)]),_:1}),a(e(_),null,{default:s(()=>[a(e(h),{asChild:""},{default:s(()=>[a(e(g),{onClick:J,size:"sm",variant:"ghost",class:"h-8 w-8 rounded-full hover:bg-accent active:bg-accent text-red-600"},{default:s(()=>t[6]||(t[6]=[l("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})],-1)])),_:1,__:[6]})]),_:1}),a(e(b),null,{default:s(()=>t[7]||(t[7]=[l("p",null,"Watch on YouTube",-1)])),_:1,__:[7]})]),_:1})])])]))]),_:1})]),_:1})]),_:1})])])):ge("",!0),t[8]||(t[8]=l("div",{id:"youtube-player",style:{display:"none"}},null,-1))],64))}}),va=(w,r)=>{const i=w.__vccOpts||w;for(const[c,p]of r)i[c]=p;return i},Ca=va(ma,[["__scopeId","data-v-15784a91"]]);export{Ca as M,va as _,ka as a};
