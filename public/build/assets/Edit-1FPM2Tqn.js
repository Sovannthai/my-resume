import{x as D,y as x,A as B,c as j,o as _,a as l,u as e,g as I,w as o,b as r,e as i,i as N,F as k,r as U,h as z,t as P,f as F,S as q}from"./app-BhTIdOYK.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-DGKJT_Zj.js";import{_ as J}from"./Heading.vue_vue_type_script_setup_true_lang-BuXFWkpZ.js";import{_ as O,a as Q}from"./CardContent.vue_vue_type_script_setup_true_lang-BoZ4VAyc.js";import{_ as R}from"./CardDescription.vue_vue_type_script_setup_true_lang-MVXfFEON.js";import{_ as h}from"./CardHeader.vue_vue_type_script_setup_true_lang-3y0ZCNU2.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-C7_aJDBG.js";import{_ as V}from"./index-2AkCdJKP.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-Dtln7o_m.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-BfK8qAhH.js";import{_ as K}from"./Textarea-CkoPONLJ.js";import{_ as w,a as C,b as L,c as S,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-C1Y6qsjT.js";import{_ as m}from"./InputError.vue_vue_type_script_setup_true_lang-DTa35QQo.js";import"./useForwardExpose-7A00SoGC.js";import"./RovingFocusGroup-kePly2kE.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BS3Ywdnq.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DJStl9xA.js";import"./settings-MPfpgHFP.js";import"./users-BEFf-H3J.js";import"./graduation-cap-Bgq6H3Ja.js";import"./check-D0rDwM8i.js";import"./chevron-down-DdPLH-Aa.js";import"./useFormControl-DgwO5uUY.js";const W={class:"space-y-6 p-4"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z={key:0,class:"mb-3"},ee=["src","alt"],te={class:"flex items-center justify-between mb-3"},le={class:"space-y-3"},oe={class:"flex-1"},se={class:"flex-[2]"},re={class:"flex items-center gap-4"},Se={__name:"Edit",props:{project:{type:Object,required:!0},projectTypes:{type:Array,required:!0}},setup(g){const d=g,E=[{title:"Dashboard",href:"/dashboard"},{title:"Projects",href:"/projects"},{title:"Edit",href:`/backend/projects/${d.project.id}/edit`}],s=D({title:d.project.title||"",description:d.project.description||"",image:null,project_type_id:d.project.project_type_id?d.project.project_type_id.toString():null,technologies:d.project.technologies||[],created_date:d.project.created_date||"",status:d.project.status||"processing",links:d.project.links||[]}),v=x(Array.isArray(d.project.technologies)?d.project.technologies.join(", "):""),p=x(Array.isArray(d.project.links)&&d.project.links.length>0?d.project.links.map(n=>{const t=Object.keys(n)[0],b=n[t];return{label:t,url:b}}):[{label:"Github",url:""},{label:"View",url:""}]),A=()=>{p.value.push({label:"",url:""})},G=n=>{p.value.length>1&&p.value.splice(n,1)},T=()=>{s.technologies=v.value?v.value.split(",").map(n=>n.trim()):[],s.links=p.value.filter(n=>n.label.trim()&&n.url.trim()).map(n=>({[n.label.trim()]:n.url.trim()})),s.project_type_id===null&&(s.project_type_id=""),s.post(route("backend.projects.update",d.project.id),{_method:"PUT",forceFormData:!0})};return(n,t)=>{const b=B("Icon");return _(),j(k,null,[l(e(I),{title:"Edit Project"}),l(M,{breadcrumbs:E},{default:o(()=>[r("div",W,[r("div",null,[l(J,{title:"Edit Project"}),t[7]||(t[7]=r("p",{class:"text-sm text-muted-foreground"}," Update project information ",-1))]),l(e(O),null,{default:o(()=>[l(e(h),null,{default:o(()=>[l(e(H),null,{default:o(()=>t[8]||(t[8]=[i("Project Information")])),_:1,__:[8]}),l(e(R),null,{default:o(()=>t[9]||(t[9]=[i(" Update the project details below ")])),_:1,__:[9]})]),_:1}),l(e(Q),null,{default:o(()=>[r("form",{onSubmit:N(T,["prevent"]),class:"space-y-6"},[r("div",X,[r("div",null,[l(e(u),{for:"title"},{default:o(()=>t[10]||(t[10]=[i("Title *")])),_:1,__:[10]}),l(e(c),{id:"title",modelValue:e(s).title,"onUpdate:modelValue":t[0]||(t[0]=a=>e(s).title=a),type:"text",placeholder:"Enter project title",required:""},null,8,["modelValue"]),l(m,{message:e(s).errors.title},null,8,["message"])]),r("div",null,[l(e(u),{for:"project_type_id"},{default:o(()=>t[11]||(t[11]=[i("Project Type")])),_:1,__:[11]}),l(e(w),{modelValue:e(s).project_type_id,"onUpdate:modelValue":t[1]||(t[1]=a=>e(s).project_type_id=a)},{default:o(()=>[l(e(C),null,{default:o(()=>[l(e(L),{placeholder:"Select project type"})]),_:1}),l(e(S),null,{default:o(()=>[(_(!0),j(k,null,U(g.projectTypes,a=>(_(),z(e($),{key:a.id,value:a.id.toString()},{default:o(()=>[i(P(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),l(m,{message:e(s).errors.project_type_id},null,8,["message"])])]),r("div",Y,[r("div",null,[l(e(u),{for:"status"},{default:o(()=>t[12]||(t[12]=[i("Status *")])),_:1,__:[12]}),l(e(w),{modelValue:e(s).status,"onUpdate:modelValue":t[2]||(t[2]=a=>e(s).status=a)},{default:o(()=>[l(e(C),null,{default:o(()=>[l(e(L),{placeholder:"Select status"})]),_:1}),l(e(S),null,{default:o(()=>[l(e($),{value:"processing"},{default:o(()=>t[13]||(t[13]=[i("Processing")])),_:1,__:[13]}),l(e($),{value:"completed"},{default:o(()=>t[14]||(t[14]=[i("Completed")])),_:1,__:[14]})]),_:1})]),_:1},8,["modelValue"]),l(m,{message:e(s).errors.status},null,8,["message"])]),r("div",null,[l(e(u),{for:"created_date"},{default:o(()=>t[15]||(t[15]=[i("Created Date")])),_:1,__:[15]}),l(e(c),{id:"created_date",modelValue:e(s).created_date,"onUpdate:modelValue":t[3]||(t[3]=a=>e(s).created_date=a),type:"date"},null,8,["modelValue"]),l(m,{message:e(s).errors.created_date},null,8,["message"])])]),r("div",null,[l(e(u),{for:"image"},{default:o(()=>t[16]||(t[16]=[i("Project Image")])),_:1,__:[16]}),g.project.image?(_(),j("div",Z,[t[17]||(t[17]=r("p",{class:"text-sm text-muted-foreground mb-2"},"Current image:",-1)),r("img",{src:`/${g.project.image}`,alt:g.project.title,class:"w-32 h-32 object-cover rounded-md border"},null,8,ee)])):F("",!0),l(e(c),{id:"image",type:"file",accept:"image/*",onChange:t[4]||(t[4]=a=>e(s).image=a.target.files[0])}),t[18]||(t[18]=r("p",{class:"text-sm text-muted-foreground mt-1"}," Upload a new image to replace the current one (JPEG, PNG, JPG, GIF - max 2MB) ",-1)),l(m,{message:e(s).errors.image},null,8,["message"])]),r("div",null,[l(e(u),{for:"description"},{default:o(()=>t[19]||(t[19]=[i("Description")])),_:1,__:[19]}),l(e(K),{id:"description",modelValue:e(s).description,"onUpdate:modelValue":t[5]||(t[5]=a=>e(s).description=a),placeholder:"Enter project description",rows:4},null,8,["modelValue"]),l(m,{message:e(s).errors.description},null,8,["message"])]),r("div",null,[l(e(u),{for:"technologies"},{default:o(()=>t[20]||(t[20]=[i("Technologies")])),_:1,__:[20]}),l(e(c),{id:"technologies",modelValue:v.value,"onUpdate:modelValue":t[6]||(t[6]=a=>v.value=a),type:"text",placeholder:"Enter technologies (comma-separated)"},null,8,["modelValue"]),t[21]||(t[21]=r("p",{class:"text-sm text-muted-foreground mt-1"}," Enter technologies separated by commas (e.g., Vue.js, Laravel, MySQL) ",-1)),l(m,{message:e(s).errors.technologies},null,8,["message"])]),r("div",null,[r("div",te,[l(e(u),null,{default:o(()=>t[22]||(t[22]=[i("Project Links")])),_:1,__:[22]}),l(e(V),{type:"button",onClick:A,variant:"outline",size:"sm"},{default:o(()=>[l(b,{name:"plus",class:"h-4 w-4 mr-1"}),t[23]||(t[23]=i(" Add Link "))]),_:1,__:[23]})]),r("div",le,[(_(!0),j(k,null,U(p.value,(a,f)=>(_(),j("div",{key:f,class:"flex gap-3 items-end"},[r("div",oe,[l(e(u),{for:`link-label-${f}`},{default:o(()=>t[24]||(t[24]=[i("Label")])),_:2,__:[24]},1032,["for"]),l(e(c),{id:`link-label-${f}`,modelValue:a.label,"onUpdate:modelValue":y=>a.label=y,type:"text",placeholder:"e.g., Github, View, Demo"},null,8,["id","modelValue","onUpdate:modelValue"])]),r("div",se,[l(e(u),{for:`link-url-${f}`},{default:o(()=>t[25]||(t[25]=[i("URL")])),_:2,__:[25]},1032,["for"]),l(e(c),{id:`link-url-${f}`,modelValue:a.url,"onUpdate:modelValue":y=>a.url=y,type:"url",placeholder:"https://example.com"},null,8,["id","modelValue","onUpdate:modelValue"])]),l(e(V),{type:"button",onClick:y=>G(f),variant:"destructive",size:"sm",disabled:p.value.length===1},{default:o(()=>[l(b,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick","disabled"])]))),128))]),t[26]||(t[26]=r("p",{class:"text-sm text-muted-foreground mt-1"}," Add project links like Github repository, live demo, etc. ",-1)),l(m,{message:e(s).errors.links},null,8,["message"])]),r("div",re,[l(e(V),{type:"submit",disabled:e(s).processing},{default:o(()=>[i(P(e(s).processing?"Updating...":"Update Project"),1)]),_:1},8,["disabled"]),l(e(q),{href:"/projects"},{default:o(()=>[l(e(V),{type:"button",variant:"outline"},{default:o(()=>t[27]||(t[27]=[i(" Cancel ")])),_:1,__:[27]})]),_:1})])],32)]),_:1})]),_:1})])]),_:1})],64)}}};export{Se as default};
