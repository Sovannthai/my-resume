import{d as V,x as $,f as S,o as p,w as l,b as s,e as r,i as a,h as T,a as c,j as b,u as o,t as n,S as k}from"./app-BGdeDzMo.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-DYWVTCno.js";import{_ as C}from"./Heading.vue_vue_type_script_setup_true_lang-D93NsAQb.js";import{_ as v}from"./index-gMAQ9m9g.js";import{_ as Y,a as E}from"./CardContent.vue_vue_type_script_setup_true_lang-BlZqiKPI.js";import{_ as A,a as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-DoiJy3bs.js";import{_ as N}from"./CardHeader.vue_vue_type_script_setup_true_lang-pnZt_IVB.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-DQj82vo9.js";import{_}from"./InputError.vue_vue_type_script_setup_true_lang-CnHMU76r.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-C46m2rNH.js";import{_ as R}from"./Icon.vue_vue_type_script_setup_true_lang-DoJQpEMP.js";import"./useForwardExpose-Dy3oj9LX.js";import"./RovingFocusGroup-KAP0HzcD.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CMZwfjID.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BEquV88k.js";import"./settings-l7P6_Jkc.js";import"./graduation-cap-Cn59K7Ys.js";import"./sparkles-Dbttn1uA.js";import"./map-pin-DFOroZCC.js";import"./terminal-CcbN7EsC.js";import"./check-BRwFpWMt.js";import"./chevron-down-DSUYhkGP.js";import"./clock-D2DVA13k.js";import"./user-Ct4iyLOq.js";import"./wrench-C3ZzWnG8.js";import"./message-square-BHltFd2A.js";import"./star-RXozBZ6b.js";import"./loader-circle-DHwhFF7o.js";import"./mail-DsOfCvwB.js";import"./sun-D1mqUBOd.js";const q={class:"space-y-6 p-4"},P={key:0,class:"text-sm text-red-600 mt-1"},D={key:0,class:"space-y-2"},I={class:"p-4 bg-muted rounded-lg"},L={class:"aspect-video bg-black rounded overflow-hidden"},M=["src"],j={class:"flex items-center gap-4"},z={class:"text-sm text-muted-foreground"},Q={key:1,class:"p-4 bg-muted rounded-lg"},Z={class:"flex items-center gap-3"},W={class:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center"},X={class:"flex-1"},F={class:"font-medium"},G={class:"text-sm text-muted-foreground"},H={class:"text-sm text-muted-foreground"},J={class:"flex items-center gap-4"},Ct=V({__name:"Create",setup(K){const w=[{title:"Dashboard",href:"/dashboard"},{title:"Popular Songs",href:"/popular-songs"},{title:"Create",href:"/backend/popular-songs/create"}],e=$({title:"",artist:"",url:"",duration:180}),m=u=>/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/.test(u),g=u=>{const t=u.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);return t?t[1]:null},x=()=>{if(e.url&&!m(e.url)&&(e.url.includes("youtube.com")||e.url.includes("youtu.be"))){const u=g(e.url);u&&(e.url=`https://www.youtube.com/watch?v=${u}`)}},y=u=>{const t=Math.floor(u/60),i=u%60;return`${t}:${i.toString().padStart(2,"0")}`},h=()=>{e.post(route("backend.popular-songs.store"))};return(u,t)=>(p(),S(U,{breadcrumbs:w},{default:l(()=>[s("div",q,[s("div",null,[r(C,{title:"Add New Song"}),t[4]||(t[4]=s("p",{class:"text-sm text-muted-foreground"}," Add a new song to your portfolio music library ",-1))]),r(Y,null,{default:l(()=>[r(N,null,{default:l(()=>[r(A,null,{default:l(()=>t[5]||(t[5]=[a("Song Information")])),_:1,__:[5]}),r(B,null,{default:l(()=>t[6]||(t[6]=[a(" Enter the song details below ")])),_:1,__:[6]})]),_:1}),r(E,null,{default:l(()=>[s("form",{onSubmit:T(h,["prevent"]),class:"space-y-6"},[s("div",null,[r(d,{for:"url"},{default:l(()=>t[7]||(t[7]=[a("YouTube URL *")])),_:1,__:[7]}),r(f,{id:"url",modelValue:o(e).url,"onUpdate:modelValue":t[0]||(t[0]=i=>o(e).url=i),type:"url",placeholder:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",onBlur:x,required:""},null,8,["modelValue"]),t[8]||(t[8]=s("p",{class:"text-sm text-muted-foreground mt-1"}," Enter a YouTube video URL. Supported formats: youtube.com/watch?v=, youtu.be/, youtube.com/embed/ ",-1)),o(e).url&&!m(o(e).url)?(p(),c("div",P," Please enter a valid YouTube URL ")):b("",!0),r(_,{message:o(e).errors.url},null,8,["message"])]),o(e).url&&m(o(e).url)?(p(),c("div",D,[r(d,null,{default:l(()=>t[9]||(t[9]=[a("YouTube Preview")])),_:1,__:[9]}),s("div",I,[s("div",L,[s("iframe",{src:`https://www.youtube.com/embed/${g(o(e).url)}?rel=0`,class:"w-full h-full",frameborder:"0",allowfullscreen:""},null,8,M)])])])):b("",!0),s("div",null,[r(d,{for:"title"},{default:l(()=>t[10]||(t[10]=[a("Song Title *")])),_:1,__:[10]}),r(f,{id:"title",modelValue:o(e).title,"onUpdate:modelValue":t[1]||(t[1]=i=>o(e).title=i),type:"text",placeholder:"Enter song title",required:"",autofocus:""},null,8,["modelValue"]),r(_,{message:o(e).errors.title},null,8,["message"])]),s("div",null,[r(d,{for:"artist"},{default:l(()=>t[11]||(t[11]=[a("Artist *")])),_:1,__:[11]}),r(f,{id:"artist",modelValue:o(e).artist,"onUpdate:modelValue":t[2]||(t[2]=i=>o(e).artist=i),type:"text",placeholder:"Enter artist name",required:""},null,8,["modelValue"]),r(_,{message:o(e).errors.artist},null,8,["message"])]),s("div",null,[r(d,{for:"duration"},{default:l(()=>t[12]||(t[12]=[a("Duration (seconds) *")])),_:1,__:[12]}),s("div",j,[r(f,{id:"duration",modelValue:o(e).duration,"onUpdate:modelValue":t[3]||(t[3]=i=>o(e).duration=i),modelModifiers:{number:!0},type:"number",min:"1",max:"3600",placeholder:"180",required:"",class:"flex-1"},null,8,["modelValue"]),s("span",z,n(y(o(e).duration||0)),1)]),t[13]||(t[13]=s("p",{class:"text-sm text-muted-foreground mt-1"}," Enter the duration in seconds (you can check this on YouTube) ",-1)),r(_,{message:o(e).errors.duration},null,8,["message"])]),o(e).url&&o(e).title?(p(),c("div",Q,[t[14]||(t[14]=s("h4",{class:"font-medium mb-2"},"Preview",-1)),s("div",Z,[s("div",W,[r(R,{name:"music",class:"h-5 w-5 text-primary"})]),s("div",X,[s("p",F,n(o(e).title),1),s("p",G,n(o(e).artist),1)]),s("div",H,n(y(o(e).duration||0)),1)])])):b("",!0),s("div",J,[r(v,{type:"submit",disabled:o(e).processing||!m(o(e).url)},{default:l(()=>[a(n(o(e).processing?"Creating...":"Create Song"),1)]),_:1},8,["disabled"]),r(o(k),{href:"/popular-songs"},{default:l(()=>[r(v,{type:"button",variant:"outline"},{default:l(()=>t[15]||(t[15]=[a(" Cancel ")])),_:1,__:[15]})]),_:1})])],32)]),_:1})]),_:1})])]),_:1}))}});export{Ct as default};
